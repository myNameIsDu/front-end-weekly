## TypeScript 4.7 beta 
### module æ”¯æŒ node12 / nodenext
### moduleDetection.moduleDetection
4.7 ç‰ˆæœ¬ä¸­å¼•å…¥äº†æ–°çš„é…ç½® moduleDetection.moduleDetectionæ¥æ§åˆ¶æ¨¡å—çš„æ£€æŸ¥ç­–ç•¥ï¼Œå…¶é…ç½®å€¼åŒ…æ‹¬ï¼š

`auto`: é»˜è®¤å€¼ï¼ŒTypeScript åœ¨æ£€æŸ¥æ¨¡å—æ—¶é™¤äº†æ£€æŸ¥ import ä¸ export è¯­å¥ä»¥å¤–ï¼Œè¿˜ä¼šåœ¨ --module nodenext æˆ– --module node12 æ—¶æ£€æŸ¥ package.json ä¸­çš„ type æ˜¯å¦è¢«è®¾ç½®ä¸º "module"ï¼Œä»¥åŠåœ¨ --jsx react-jsx ä¸‹æ£€æŸ¥å½“å‰æ–‡ä»¶æ˜¯å¦æ˜¯ JSX æ–‡ä»¶ã€‚

`force`: æ­¤é€‰é¡¹ä¼šå¼ºåˆ¶å°†æ‰€æœ‰çš„æ–‡ä»¶è§†ä¸ºæ¨¡å—ï¼Œè€Œä¸å†å…³å¿ƒ moduleã€jsxã€moduleResolution è¿™äº›é…ç½®ã€‚

`legacy`: æ­¤é€‰é¡¹å³æ˜¯ 4.7 ç‰ˆæœ¬ä»¥å‰çš„é»˜è®¤è§£æè¡Œä¸ºï¼Œå³ä»…æ£€æŸ¥ import / export è¯­å¥æ¥ç¡®å®šæ–‡ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚

### æ³›å‹å®ä¾‹åŒ–è¡¨è¾¾å¼

æ— éœ€è°ƒç”¨çš„æƒ…å†µä¸‹é¢„å…ˆå¡«å……ç±»å‹å‚æ•°

```typescript 
interface Box<T> {
    value: T;
}

function makeBox<T>(value: T) {
    return { value };
}
const makeHammerBox = makeBox<Hammer>;
const makeWrenchBox = makeBox<Wrench>;
```

### infer çš„ extends çº¦æŸæ”¯æŒ 

before:
```typescript
type FirstString<T> =
    T extends [infer S, ...unknown[]]
        ? S extends string ? S : never
        : never;
```

after:
```
type FirstString<T> =
    T extends [infer S extends string, ...unknown[]]
        ? S
        : never;
```

### ç±»å‹å‚æ•°çš„å˜åŒ–ï¼ˆåå˜ã€é€†å˜ï¼‰æ ‡è®° 
```typescript
type Getter<out T> = () => T;
type Setter<in T> = (value: T) => void;
type Provider<out T> = () => T;
type Consumer<in T> = (x: T) => void;
type Mapper<in T, out U> = (x: T) => U;
type Processor<in out T> = (x: T) => T;
```
out æ ‡è®°è¿™ä¸ªç±»å‹å‚æ•°ä½¿ç”¨åå˜æ£€æŸ¥ï¼Œè€Œ in åˆ™æ ‡è®°å…¶ä¸ºé€†å˜æ£€æŸ¥

https://mp.weixin.qq.com/s/JrLUIKW0HnOfZu1ROrTsNw


## Handling date strings in TypeScript

åœ¨ts ä¸­ä½¿ç”¨dateStringæ—¶ï¼Œä¼šè‡ªåŠ¨æ¨æ–­ä¸ºstringç±»å‹ï¼Œè¿™ä¼šå¯¼è‡´é¢„æœŸä»¥å¤–çš„é”™è¯¯ï¼Œä¾‹å¦‚ `const dog = 'a'` ä¹Ÿæ˜¯ string ç±»å‹

ä½œè€…çš„è§£æ³•æ˜¯
1. å£°æ˜èƒ½å¤Ÿæ¥æ”¶çš„ç¡®åˆ‡ dateString

```typescript
type oneToNine = 1|2|3|4|5|6|7|8|9
type zeroToNine = 0|oneToNine

/**
 * Years
 */
type YYYY = `19${zeroToNine}${zeroToNine}` | `20${zeroToNine}${zeroToNine}`
/**
 * Months
 */
type MM = `0${oneToNine}` | `1${0|1|2}`
/**
 * Days
 */
type DD = `${0}${oneToNine}` | `${1|2}${zeroToNine}` | `3${0|1}`

/**
 * YYYYMMDD
 */
type RawDateString = `${YYYY}${MM}${DD}`;
```
2. ä½¿ç”¨åä¹‰ç±»å‹åŒ…è£¹ï¼Œè§£å†³åœ¨è°ƒè¯•æ—¶å¤§é‡äº¤å‰ç±»å‹çš„ä¸å‹å¥½æƒ…å†µï¼ŒåŒæ—¶å£°æ˜ä¸ºä¸é€æ˜ç±»å‹

<img src="https://raw.githubusercontent.com/myNameIsDu/images/main/uPic/jYDaao.png" alt="jYDaao" />

```typescript
type Brand<K, T> = K & { __brand: T };
type DateString = Brand<RawDateString, 'DateString'>;

const aDate: DateString = '19990101'; // 
// Type 'string' is not assignable to type 'DateString'
```

3. ä½¿ç”¨ç±»å‹è°“è¯è¿›è¡Œç±»å‹ç¼©å°
```typescript
/**
 * Use `moment`, `luxon` or other libraries
 */
const isValidDate = (str: string): boolean => {
  return DateTime.fromISO(str).invalid === null
};

// ğŸ‘‡ User-defined type guard
function isValidDateString(str: string): str is DateString {
  return str.match(/^\d{4}\d{2}\d{2}$/) !== null && isValidDate(str);
}

// ğŸ‘‡ Factory function
function toDateString(str: RawDateString): DateString {
  if (isValidDateString(str)) return str;

  throw new Error(`Invalid date string: ${str}`);
}
```

https://blog.logrocket.com/handing-date-strings-typescript/

## reactç»„åˆæ¨¡å¼

ä»€ä¹ˆæ˜¯æå–ç»„ä»¶çš„å¥½æ—¶æœº
1. å§‹ç»ˆä»é¡¶éƒ¨å¼€å§‹
2. åªæœ‰åœ¨éœ€è¦æ—¶æ‰æå–
3. æ€»æ˜¯ä» simple component å¼€å§‹ï¼Œåªæœ‰åœ¨å®é™…éœ€è¦æ—¶ï¼Œæ‰å¼•å…¥å…¶å®ƒæŠ€æœ¯
4. ä¸€ä¸ªç»„ä»¶åº”è¯¥ä¸º "å®ç°ä¸€ä¸ªä¸œè¥¿" æˆ–è€… "ä¸€äº›ç»„ä»¶çš„ç»„åˆ" è€Œä¸æ˜¯ä¸¤è€…å…¼å¾—

å½“éœ€è¦å…±äº«ä¸€äº›è§†è§‰æ•ˆæœå’Œé€»è¾‘å¹¶ä¸”éœ€è¦æ¶ˆè´¹è€…æ§åˆ¶æ—¶ï¼Œæå–containerç»„ä»¶

container ç»„ä»¶å¯¹æ€§èƒ½æœ‰å¤§å¹…åº¦æå‡

ä»€ä¹ˆæ˜¯å¥½çš„ç»„ä»¶:
1. å¤§å°ï¼Œæ— åºæ»šåŠ¨å±å¹•ï¼Œå³å¯é˜…è¯»
2. åç§°ï¼Œè¡¨ç¤ºå®ƒçš„ä½œç”¨
3. æ²¡æœ‰æ— å…³çš„çŠ¶æ€
4. æ˜“äºé˜…è¯»

https://www.developerway.com/posts/components-composition-how-to-get-it-right


## TS å®ç°tokenizer/parser/interpreter
<img src="https://raw.githubusercontent.com/myNameIsDu/images/main/uPic/oHaWds.png" alt="oHaWds" width='80%'/>

https://github.com/anuraghazra/typelevel-parser

## bundler-benchmarking
<img src="https://raw.githubusercontent.com/myNameIsDu/images/main/uPic/swtfSe.png" alt="swtfSe" width='80%'/>

webpack-swc æ¯” webpack-esbuild æ…¢ä¸€äº›,ä½†æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­å®è·µä¸‹æ¥åŒºåˆ«ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä½†æ˜¯ç”±äºswcæ”¯æŒ refresh æ‰€ä»¥è¿˜æ˜¯é€‰æ‹©äº†swc

https://github.com/j0sh77/bundler-benchmarking/blob/main/results/with-styles.csv

## :has( )
```css
button:has(svg) { â€¦ }

article:has(h2 + p, h3 + p) { â€¦ }

section:not(:has(h1, h2, h3, h4, h5, h6)) { â€¦ }

form:has(input[type="checkbox"]:checked) { â€¦ }

.grid:has(:nth-child(2):last-child) {
  grid-template-columns: 1fr 1fr;
}
.grid:has(:nth-child(3):last-child) {
  grid-template-columns: 1fr 1fr 1fr;
}

:has(+ .second) {
  background-color: darkmagenta;
}

@supports selector(:has(*)) {
  /* Code for browsers with support for :has */
}
```

## useCookie

A React hook for managing cookies with no dependencies.

https://github.com/tylerwolff/useCookie

## cra v5.0.1

æ”¯æŒreact-18

https://github.com/facebook/create-react-app/releases/tag/v5.0.1


## æ³¨æ„ï¼è¿›ç¾¤è¯·å…ˆè¡Œä¿®æ”¹æ¥¼æˆ·å·ã€‚

<img src="https://raw.githubusercontent.com/myNameIsDu/images/main/uPic/PJb24W.png" alt="PJb24W"/>

https://h5.moo-e.com/roomis/


## react-redux v8

æ”¯æŒ react 18,ç”±jsè½¬æ¢ä¸ºts

https://github.com/reduxjs/react-redux/releases/tag/v8.0.0


## react 18 React 18 Quick Guide & Core Concepts Explained

react 18 ä¸€äº›æ¦‚å¿µçš„è§£é‡Š

https://dev.to/shrutikapoor08/react-18-quick-guide-core-concepts-explained-519p